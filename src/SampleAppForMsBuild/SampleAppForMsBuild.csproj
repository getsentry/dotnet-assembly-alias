<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <TargetFramework>net6.0</TargetFramework>
    <AppendTargetFrameworkToOutputPath>false</AppendTargetFrameworkToOutputPath>
    <Alias_Prefix>Prefix_</Alias_Prefix>
    <Alias_Suffix>_Suffix</Alias_Suffix>
    <Alias_Internalize>true</Alias_Internalize>
  </PropertyGroup>
  <Target Name="ResolveAliasAssemblies" DependsOnTargets="ResolveReferences">
    <ItemGroup>
      <Alias_AssembliesToAlias Include="@(ReferencePath)" 
                               Condition="$([System.String]::new('%(ReferencePath.Filename)').StartsWith('AssemblyWith'))"/>
    </ItemGroup>
  </Target>
  <ItemGroup>
    <ProjectReference Include="..\AssemblyToProcess\AssemblyToProcess.csproj" />
  </ItemGroup>
  <Import Condition="$(Configuration) == 'IncludeAliasTask'"
          Project="$(ProjectDir)..\Alias.MsBuild\build\Alias.MsBuild.targets" />
</Project>
