<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <TargetFramework>net6.0</TargetFramework>
    <AppendTargetFrameworkToOutputPath>false</AppendTargetFrameworkToOutputPath>
    <AliasPrefix>Prefix_</AliasPrefix>
    <AliasSuffix>_Suffix</AliasSuffix>
    <AliasInternalize>true</AliasInternalize>
  </PropertyGroup>
  <Target Name="ResolveAliasAssemblies" DependsOnTargets="ResolveReferences">
    <ItemGroup>
      <AliasAssemblies Include="@(ReferencePath)" 
                       Condition="$([System.String]::new('%(ReferencePath.Filename)').StartsWith('AssemblyWith'))"/>
    </ItemGroup>
  </Target>
  <ItemGroup>
    <ProjectReference Include="..\AssemblyToProcess\AssemblyToProcess.csproj" />
  </ItemGroup>
  <Import Condition="$(Configuration) == 'IncludeAliasTask'"
          Project="$(ProjectDir)..\Alias.MsBuild\build\Alias.MsBuild.targets" />
</Project>
